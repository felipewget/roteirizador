{"ast":null,"code":"var _jsxFileName = \"/Users/fe.oliveira/Documents/Dev/React/roteirizador/src/screens/Roteirizador/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport Footer from './../../components/Footer';\nimport Languages from './../../components/Languages';\nimport FormRoterizador from './../../components/FormRoterizador';\nimport PreviewRoterizador from './../../components/PreviewRoterizador';\nimport { getLanguage } from './../../components/i18n';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { withScriptjs } from 'react-google-maps';\nimport { loadDirections } from './../../actions/mapAction';\nimport Map from './../../components/Map';\nimport BlockApresentation from './components/BlockApresentation';\nimport TabHistory from './components/TabHistory';\nimport { compose, withProps, lifecycle } from \"recompose\";\nimport { isAuthenticated, loggout } from './../../actions/authAction';\nimport { addRoute, listRoutes, getRouteByid } from './../../actions/routeAction';\nimport LoadingScreen from './../../components/LoadingScreen';\n\nclass Roteirizador extends Component {\n  constructor(props) {\n    super();\n\n    this.renderPage = () => {\n      let _this$state = this.state,\n          texts = _this$state.texts,\n          arr_route = _this$state.arr_route,\n          directions = _this$state.directions;\n      let MapLoader;\n\n      if (directions && directions !== null) {\n        let MapLoader = withScriptjs(Map);\n      }\n\n      let page_texts = texts.page_home;\n      let self = this;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        \"data-container-form\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(PerfectScrollbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Roteirizador\"), React.createElement(\"button\", {\n        onClick: async () => {\n          await loggout();\n          window.location.reload();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(Languages, {\n        languages_texts: texts.all_languages,\n        actual_language: texts.language,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(FormRoterizador, {\n        funcUpdateMap: this.updateMap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(PreviewRoterizador, {\n        directions: directions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }))), React.createElement(TabHistory, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        \"data-container-maps\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, directions && directions !== null ? React.createElement(MapLoader, {\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBadM1YaUkhSp7Kki0F-Dj382ZxW-8VZxw\",\n        loadingElement: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }),\n        directions: directions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }) : React.createElement(BlockApresentation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      })), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }));\n    };\n\n    let _texts = getLanguage('pt-br');\n\n    this.state = {\n      loading_page: true,\n      texts: _texts,\n      arr_route: [],\n      directions: null\n    };\n    this.updateMap = this.updateMap.bind(this);\n  }\n\n  async componentDidMount() {\n    document.title = \"Roteirizador\";\n    let auth_response = await isAuthenticated('authenticated');\n\n    if (auth_response.metadata && auth_response.metadata.authenticated === true) {\n      this.setState({\n        loading_page: false\n      });\n    }\n  }\n\n  async updateMap(arr_route) {\n    let response = await loadDirections(arr_route);\n    let response_route = await addRoute(arr_route);\n    console.log(response_route); //@TODO\n    // this.setState({\n    //   arr_route: arr_route,\n    //   directions: response.success === true ? response.metadata : null\n    // })\n  }\n\n  closeHistoryTab() {}\n\n  render() {\n    let loading_page = this.state.loading_page;\n    return loading_page ? React.createElement(LoadingScreen, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }) : this.renderPage();\n    ;\n  }\n\n}\n\nexport default Roteirizador;","map":{"version":3,"sources":["/Users/fe.oliveira/Documents/Dev/React/roteirizador/src/screens/Roteirizador/index.js"],"names":["React","Component","Fragment","Link","Footer","Languages","FormRoterizador","PreviewRoterizador","getLanguage","PerfectScrollbar","withScriptjs","loadDirections","Map","BlockApresentation","TabHistory","compose","withProps","lifecycle","isAuthenticated","loggout","addRoute","listRoutes","getRouteByid","LoadingScreen","Roteirizador","constructor","props","renderPage","state","texts","arr_route","directions","MapLoader","page_texts","page_home","self","window","location","reload","all_languages","language","updateMap","loading_page","bind","componentDidMount","document","title","auth_response","metadata","authenticated","setState","response","response_route","console","log","closeHistoryTab","render"],"mappings":"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","sourcesContent":["import React,\r\n       { Component, Fragment }            from 'react';\r\nimport { Link }                 from 'react-router-dom';\r\nimport Footer                   from './../../components/Footer';\r\nimport Languages                from './../../components/Languages';\r\nimport FormRoterizador          from './../../components/FormRoterizador';\r\nimport PreviewRoterizador       from './../../components/PreviewRoterizador';\r\nimport { getLanguage }          from './../../components/i18n';\r\nimport PerfectScrollbar         from 'react-perfect-scrollbar';\r\nimport { withScriptjs }         from 'react-google-maps';\r\n\r\nimport { loadDirections } from './../../actions/mapAction';\r\nimport Map from './../../components/Map';\r\n\r\nimport BlockApresentation from './components/BlockApresentation';\r\nimport TabHistory         from './components/TabHistory';\r\n\r\nimport { compose, withProps, lifecycle } from \"recompose\";\r\n\r\nimport {  isAuthenticated,\r\n          loggout             } from './../../actions/authAction';\r\n\r\nimport {  addRoute,\r\n          listRoutes,\r\n          getRouteByid        } from './../../actions/routeAction';\r\n\r\nimport LoadingScreen            from './../../components/LoadingScreen';\r\n\r\nclass Roteirizador extends Component {\r\n\r\n  constructor( props )\r\n  {\r\n\r\n    super();\r\n\r\n    let texts = getLanguage('pt-br');\r\n\r\n    this.state = {\r\n      loading_page: true,\r\n      texts: texts,\r\n      arr_route: [],\r\n      directions: null,\r\n    }\r\n\r\n    this.updateMap    = this.updateMap.bind(this);\r\n\r\n  }\r\n\r\n  async componentDidMount(){\r\n    document.title = \"Roteirizador\"\r\n\r\n    let auth_response = await isAuthenticated( 'authenticated' );\r\n\r\n    if( auth_response.metadata && auth_response.metadata.authenticated === true ){\r\n\r\n      this.setState({\r\n        loading_page : false\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  async updateMap( arr_route )\r\n  {\r\n\r\n    let response = await loadDirections( arr_route );\r\n\r\n    let response_route = await addRoute( arr_route );\r\n    console.log( response_route )\r\n\r\n    //@TODO\r\n    // this.setState({\r\n    //   arr_route: arr_route,\r\n    //   directions: response.success === true ? response.metadata : null\r\n    // })\r\n\r\n  }\r\n\r\n  closeHistoryTab()\r\n  {\r\n\r\n  }\r\n\r\n  renderPage = () => {\r\n\r\n    let { texts,\r\n          arr_route,\r\n          directions }  = this.state;\r\n\r\n    let MapLoader;\r\n    if( directions && directions !== null ){\r\n      let MapLoader = withScriptjs(Map);\r\n    }\r\n\r\n    let page_texts = texts.page_home;\r\n    let self = this;\r\n\r\n    return (\r\n      <div>\r\n\r\n        <div data-container-form>\r\n\r\n          <PerfectScrollbar>\r\n\r\n            <h1>Roteirizador</h1>\r\n            <button\r\n              onClick={ async () => {\r\n                  await loggout();\r\n                  window.location.reload();\r\n                }}>Logout</button>\r\n\r\n            <Languages\r\n              languages_texts={texts.all_languages}\r\n              actual_language={texts.language}/>\r\n\r\n            <FormRoterizador\r\n              funcUpdateMap={this.updateMap}/>\r\n\r\n            <PreviewRoterizador\r\n              directions={directions}/>\r\n\r\n          </PerfectScrollbar>\r\n\r\n        </div>\r\n\r\n        <TabHistory />\r\n\r\n        <div data-container-maps>\r\n\r\n          {\r\n            directions && directions !== null\r\n              ? <MapLoader\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBadM1YaUkhSp7Kki0F-Dj382ZxW-8VZxw\"\r\n                  loadingElement={<div />}\r\n                  directions={directions} />\r\n              : <BlockApresentation />\r\n          }\r\n\r\n        </div>\r\n\r\n        <Footer />\r\n\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let { loading_page } = this.state;\r\n\r\n    return loading_page\r\n            ? <LoadingScreen />\r\n            : this.renderPage();;\r\n  }\r\n}\r\n\r\nexport default Roteirizador;\r\n"]},"metadata":{},"sourceType":"module"}